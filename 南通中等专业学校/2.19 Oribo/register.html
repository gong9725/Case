<html>
    <head>
        <style>
            body {
                font-family: Arial, sans-serif;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                background-color: #f0f0f0;
            }
            .register-form {
                background-color: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                width: 300px;
            }
            .register-form input {
                width: 100%;
                padding: 10px;
                margin: 10px 0;
                border: 1px solid #ccc;
                border-radius: 4px;
                position: relative; /* 添加相对定位 */
            }
            .toggle-password {
                position: absolute;
                right: 10px;
                top: 50%;
                transform: translateY(-50%);
                cursor: pointer;
            }
            .register-form button {
                width: 100%;
                padding: 10px;
                margin: 5px 0;
                border: none;
                border-radius: 4px;
                cursor: pointer;
            }
            .register-form button.confirm {
                background-color: #4CAF50;
                color: white;
            }
            .register-form button.cancel {
                background-color: #f44336;
                color: white;
            }
            .register-form button.forgot-password {
                background-color: #2196F3;
                color: white;
            }
            .warning {
                color: red;
                font-size: 12px;
                display: none;
            }
        </style>
    </head>
    <body>
        <div class="register-form">
            <input type="text" id="nickname" placeholder="昵称" required>
            <div style="position: relative;">
                <input type="password" id="password" placeholder="输入密码" required>
                <span class="toggle-password" id="toggle-password">👁️</span>
            </div>
            <div style="position: relative;">
                <input type="password" id="confirm-password" placeholder="确认密码" required>
                <span class="toggle-password" id="toggle-confirm-password">👁️</span>
            </div>
            <p class="warning" id="password-warning">密码和确认密码不一致！</p>
            <button class="forgot-password" onclick="forgotPassword()">忘记密码</button>
            <button class="confirm" onclick="confirmRegistration()">确认</button>
            <button class="cancel" onclick="cancelRegistration()">取消</button>
        </div>
        <script>
            function confirmRegistration() {
                const nickname = document.getElementById('nickname').value;
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirm-password').value;
                const warning = document.getElementById('password-warning');

                if (!nickname || !password || !confirmPassword) {
                    warning.textContent = '请填写所有字段！';
                    warning.style.display = 'block';
                    return;
                }

                if (password !== confirmPassword) {
                    warning.textContent = '密码和确认密码不一致！';
                    warning.style.display = 'block';
                } else {
                    warning.style.display = 'none';
                    alert('注册成功！');
                    alert('欢迎' + nickname + '！'); // 添加欢迎信息
                    // 跳转到 index.html 并弹出欢迎信息
                    window.location.href = 'index.html?nickname=' + encodeURIComponent(nickname);
                }
            }

            function cancelRegistration() {
                window.location.href = 'index.html';
            }

            function forgotPassword() {
                alert('请联系管理员重置密码。');
            }

            // 添加密码显示/隐藏功能
            document.getElementById('toggle-password').addEventListener('click', function() {
                const passwordInput = document.getElementById('password');
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                } else {
                    passwordInput.type = 'password';
                }
            });

            document.getElementById('toggle-confirm-password').addEventListener('click', function() {
                const confirmPasswordInput = document.getElementById('confirm-password');
                if (confirmPasswordInput.type === 'password') {
                    confirmPasswordInput.type = 'text';
                } else {
                    confirmPasswordInput.type = 'password';
                }
            });
        </script>
    </body>
</html>